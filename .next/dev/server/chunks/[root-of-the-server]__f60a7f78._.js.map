{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 64, "column": 0}, "map": {"version":3,"sources":["file:///Users/chiefo/Desktop/claudebot/app/api/bot/route.ts"],"sourcesContent":["import { NextResponse } from 'next/server'\nimport { readFile } from 'fs/promises'\nimport { existsSync } from 'fs'\nimport { join } from 'path'\n\n// Path to bot state file (relative to project root)\nconst STATE_FILE = join(process.cwd(), 'monitor_state.json')\n\nexport async function GET() {\n  try {\n    // Check if state file exists\n    if (!existsSync(STATE_FILE)) {\n      return NextResponse.json({\n        connected: false,\n        message: 'Bot state file not found. Is the bot running?',\n        state: null,\n      }, { status: 200 })\n    }\n\n    // Read and parse state file\n    const content = await readFile(STATE_FILE, 'utf-8')\n    const state = JSON.parse(content)\n\n    return NextResponse.json({\n      connected: true,\n      state: {\n        tokenAddress: state.token_address,\n        totalBuys: state.total_buys || 0,\n        totalSells: state.total_sells || 0,\n        totalBuyVolume: state.total_buy_volume || 0,\n        totalSellVolume: state.total_sell_volume || 0,\n        lastPrice: state.last_price,\n        highestPrice: state.highest_price,\n        lowestPrice: state.lowest_price,\n        lastMarketCap: state.last_market_cap,\n        lastHolderCount: state.last_holder_count,\n        lastCreatorRewardsAvailable: state.last_creator_rewards_available || 0,\n        creatorRewards: state.creator_rewards || 0,\n        totalAnalyses: state.total_analyses || 0,\n        totalAlerts: state.total_alerts || 0,\n        startTime: state.start_time,\n        analysisMode: state.analysis_mode || 'brief',\n      },\n    })\n  } catch (error) {\n    console.error('Error reading bot state:', error)\n    return NextResponse.json({\n      connected: false,\n      message: 'Error reading bot state',\n      error: String(error),\n    }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;;;;;AAEA,oDAAoD;AACpD,MAAM,aAAa,IAAA,yGAAI,EAAC,QAAQ,GAAG,IAAI;AAEhC,eAAe;IACpB,IAAI;QACF,6BAA6B;QAC7B,IAAI,CAAC,IAAA,2GAAU,EAAC,aAAa;YAC3B,OAAO,gRAAY,CAAC,IAAI,CAAC;gBACvB,WAAW;gBACX,SAAS;gBACT,OAAO;YACT,GAAG;gBAAE,QAAQ;YAAI;QACnB;QAEA,4BAA4B;QAC5B,MAAM,UAAU,MAAM,IAAA,iIAAQ,EAAC,YAAY;QAC3C,MAAM,QAAQ,KAAK,KAAK,CAAC;QAEzB,OAAO,gRAAY,CAAC,IAAI,CAAC;YACvB,WAAW;YACX,OAAO;gBACL,cAAc,MAAM,aAAa;gBACjC,WAAW,MAAM,UAAU,IAAI;gBAC/B,YAAY,MAAM,WAAW,IAAI;gBACjC,gBAAgB,MAAM,gBAAgB,IAAI;gBAC1C,iBAAiB,MAAM,iBAAiB,IAAI;gBAC5C,WAAW,MAAM,UAAU;gBAC3B,cAAc,MAAM,aAAa;gBACjC,aAAa,MAAM,YAAY;gBAC/B,eAAe,MAAM,eAAe;gBACpC,iBAAiB,MAAM,iBAAiB;gBACxC,6BAA6B,MAAM,8BAA8B,IAAI;gBACrE,gBAAgB,MAAM,eAAe,IAAI;gBACzC,eAAe,MAAM,cAAc,IAAI;gBACvC,aAAa,MAAM,YAAY,IAAI;gBACnC,WAAW,MAAM,UAAU;gBAC3B,cAAc,MAAM,aAAa,IAAI;YACvC;QACF;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,4BAA4B;QAC1C,OAAO,gRAAY,CAAC,IAAI,CAAC;YACvB,WAAW;YACX,SAAS;YACT,OAAO,OAAO;QAChB,GAAG;YAAE,QAAQ;QAAI;IACnB;AACF"}}]
}